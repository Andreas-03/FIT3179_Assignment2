{
    "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
    "config": {"numberFormat": ".2f", "customFormatTypes": true, "font": "Helvetica", "legend": {"titleFontSize": 14, "labelFontSize": 12}, "axis": {"labelFontSize": 12, "titleFontSize": 14}},
    "data": {"url": "Self-control and Hope 2020.csv"},
    "hconcat": [
        {
        "width": "container",
        "height": 400,
        "transform": [
        {
            "filter": "datum.Measure == 'Self-control' && datum.Aspect != 'Overall Self-control'"
        }
        ],
        "layer":[{
    "mark": {
        "type": "boxplot",
        "extent": "min-max"
    },
    "encoding": {
        "x": {"field": "Aspect", "type": "nominal", "axis": {"labels": false}, "title": "Self-control aspects"},
        "color": {"field": "Aspect", "type": "nominal", "title": "Self-control aspects", 
        "scale": {
            "domain": ["Impulsivity", "Physically Active", "Risk Seeking", "Self-centered", "Simple Tasks", "Temperament"],
            "range": ["#00cece", "#45b6e4", "#1d6fba", "#073763", "#6266f4", "#601d96"]}},
        "y": {
            "field": "Score",
            "type": "quantitative",
            "scale": {"domain": [0, 5]},
            "axis": {"format": ".1f"}
            }
        }
    },
    {
        "transform": [
            {
                "filter": "datum.Aspect == 'Physically Active'"
            }
        ],
        "mark": {
            "type": "text",
            "align": "center",
            "baseline": "middle",
            "dx": 0,
            "dy": -50,
            "fontSize": 12,
            "fontWeight": "normal",
            "lineBreak": "\n"
        },
        "encoding": {
            "x": {"field": "Aspect"},
            "y": {"field": "Score", "type": "quantitative", "aggregate": "max"},
            "text": {
                "value": "Majority found\n it difficult to\n stay physically active"
            },
            "color": {"value": "black"}
        }
    }
]},
    {
    "transform": [
        {
            "filter": "datum.Measure == 'Hope' && datum.Aspect != 'Overall Hope'"
        }
    ],
    "width": "container",
    "height": 400,
    "layer":[{
    "mark": {
        "type": "boxplot",
        "extent": "min-max"
    },
    "encoding": {
        "x": {"field": "Aspect", "type": "nominal", "axis": {"labels": false}, "title":"Hope aspects"},
        "color": {"field": "Aspect", "type": "nominal", "title": "Hope aspects",
            "scale": 
                {"domain":["Future", "Interconnectedness", "Optimism"],
                "range": ["#2b8a3b", "#63b138", "#2b4c1d"]
                }
            },
        "y": {
            "field": "Score",
            "type": "quantitative",
            "scale": {"domain": [0, 4]},
            "axis": {"format": ".1f"}
            }
        }
    },
    {
        "transform": [
            {
                "filter": "datum.Aspect == 'Future'"
            }
        ],
        "mark": {
            "type": "text",
            "align": "center",
            "baseline": "middle",
            "dx": 0,
            "dy": -60,
            "fontSize": 12,
            "fontWeight": "normal",
            "lineBreak": "\n"
        },
        "encoding": {
            "x": {"field": "Aspect"},
            "y": {"field": "Score", "type": "quantitative", "aggregate": "max"},
            "text": {
                "value": "Majority was\n more hopeful about\n the future and\n achieving goals"
            },
            "color": {"value": "black"}
        }
    }]
    }],
    "resolve": {"scale": {"color": "independent"}}
}